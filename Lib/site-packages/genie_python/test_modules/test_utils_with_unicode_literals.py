from __future__ import unicode_literals
import unittest
from genie_python.utilities import get_correct_path


class TestUtilsUnicode(unittest.TestCase):
    """
    Reuse TestUtilitiesSequence test cases but test with unicode_literals imported.
    """

    def test_GIVEN_windows_style_filepath_WHEN_corrected_THEN_result_is_unix_style(self):
        # Arrange
        filepath = "C:\\TestDir\TestSubDir\file.py"

        # Act
        ans = get_correct_path(filepath)

        # Assert
        self.assertEquals("C:/TestDir/TestSubDir/file.py", ans)

    def test_GIVEN_windows_style_filepath_with_unescaped_chars_WHEN_corrected_THEN_result_is_unix_style(self):
        # Arrange
        # \a and \t are unescaped
        filepath = "C:\\TestDir\aSubDir\test.py"

        # Act
        ans = get_correct_path(filepath)

        # Assert
        self.assertEquals("C:/TestDir/aSubDir/test.py", ans)

    def test_GIVEN_mixed_style_filepath_WHEN_corrected_THEN_result_is_unix_style(self):
        # Arrange
        filepath = "C:/TestDir\TestSubDir/file.py"

        # Act
        ans = get_correct_path(filepath)

        # Assert
        self.assertEquals("C:/TestDir/TestSubDir/file.py", ans)

    def test_GIVEN_overly_backslashed_filepath_WHEN_corrected_THEN_result_is_unix_style(self):
        # Arrange
        filepath = "C:\\\\TestDir//////TestSubDir\\\\\file.py"

        # Act
        ans = get_correct_path(filepath)

        # Assert
        self.assertEquals("C:/TestDir/TestSubDir/file.py", ans)
